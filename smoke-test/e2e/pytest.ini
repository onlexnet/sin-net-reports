# ============================================================================
# Pytest Configuration for E2E Smoke Tests
# ============================================================================
#
# This file configures pytest behavior for the smoke test suite.
# pytest automatically discovers and uses this configuration.
#
# ============================================================================

[pytest]
# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Minimum pytest version required
minversion = 8.0

# Directories to search for tests
testpaths = tests

# Command-line options applied by default
addopts =
    # Verbose output (show test names)
    -v
    # Show local variables in tracebacks (useful for debugging)
    -l
    # Enable strict markers (fail if unknown markers are used)
    --strict-markers
    # Show summary of all test outcomes
    -ra
    # Capture method: fd = file descriptors (more reliable in Docker)
    --capture=fd
    # Generate HTML report
    --html=reports/test-report.html
    --self-contained-html
    # BDD feature file location
    --gherkin-terminal-reporter

# Custom markers for test categorization
markers =
    smoke: Quick smoke tests for critical functionality
    ui: Browser-based UI tests
    api: API endpoint tests
    slow: Tests that take more than 1 second

# BDD Configuration (pytest-bdd)
bdd_features_base_dir = features/

# Playwright Configuration
# Browser to use: chromium, firefox, webkit
# Can be overridden with --browser command-line option
browser = chromium

# Headless mode (no visible browser window)
# Set to false for debugging
headed = false

# Slow down operations (milliseconds) - useful for debugging
slowmo = 0

# Base URL for the application under test
# Can be overridden with --base-url command-line option
base_url = http://localhost:3000
